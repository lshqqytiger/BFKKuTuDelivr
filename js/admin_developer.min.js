/**
Rule the words! KKuTu Online
Copyright (C) 2017 JJoriping(op@jjo.kr)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
*/


!(function() {
	let isHacker = true;
	var _setInterval = window.setInterval;
	var $Request = window.$Request;
	
	function a(a, b, c) {
		return $("<input>").attr("id", a).css("width", f[b]).val(c)
	}

	function b(b, c, d, e, f) {
		return a("word-" + [b, c, d, e].join("-"), e, f)
	}

	function c(a, b, c) {
		var e = ["wa", a, b, c].join("-") + "-";
		return $("<td>").append($("<button>").attr("id", e + "u").css("float", "left").html("▲").on("click", d)).append($("<button>").attr("id", e + "x").css("float", "left").html("X").on("click", d)).append($("<button>").attr("id", e + "e").css("float", "left").html("?").on("click", d)).append($("<button>").attr("id", e + "d").css("float", "left").html("▼").on("click", d))
	}

	function d(a) {
		var b, c = $(a.currentTarget).attr("id").slice(3).split("-"),
			d = c.pop(),
			f = $("#wr-" + c.join("-"));
		switch (d) {
			case "u":
				a.shiftKey && (e(f, f.prev().attr("id").slice(3)), e(f.prev(), c.join("-"))), f.prev().before(f);
				break;
			case "x":
				f.remove();
				break;
			case "e":
				(b = prompt("새 key")) && e(f, b);
				break;
			case "d":
				a.shiftKey && (e(f, f.next().attr("id").slice(3)), e(f.next(), c.join("-"))), f.next().after(f)
		}
	}

	function e(a, b) {
		var c = a.attr("id").slice(3);
		a.attr("id", "wr-" + b).children("td").first().html(b), a.find("*").each(function(a, d) {
			var e = $(d);
			e.attr("id") && -1 != e.attr("id").indexOf(c) && e.attr("id", e.attr("id").replace(c, b))
		})
	}
	var f = {
			y: 50,
			t: 50,
			g: 100,
			l: 200,
			m: 600
		},
		g = {};
	$(document).ready(function() {
		delete window.$Request;
		$("#server-editor").on('click', function(a) {
			$(".editor-loading").show();
			$("#server-editor").prop('disabled', true);
			$("#server-editor").text("연결 중...");
			setTimeout(() => {
				$(".editor-loading").hide();
				$(".editor-ready").show();
				$("#server-editor").prop('disabled', true);
				$("#server-editor").text("연결 됨");
				
				$(".editor-control").show();
				$("#editor-path").show();
				$("#editor-response").show();
			}, 3000)
		}), $(".editor-control #setfile").on('click', function(a) {
			$.post("/gwalli/editor/setfile", {path:$("#editor-path").val(),value:$("#editor-response").val()}, function(response) {
				$("#editor-response").val(response)
			});
		}), $(".editor-control #getfile").on('click', function(a) {
			$.post("/gwalli/editor/getfile", {path:$("#editor-path").val()}, function(response) {
				$("#editor-response").val(response)
			});
		}), $("#ftp-connect").on('click', function(a) {
				$(".ftp-loading").show();
				$("#ftp-connect").prop('disabled', true);
				$("#ftp-connect").text("연결 중...");
				setTimeout(() => {
					$(".ftp-loading").hide();
					$("#ftp-connect").prop('disabled', true);
					$("#ftp-connect").text("잠시 후 이동합니다.");
				}, 3000);
				location.href = 'ftp://bfk.playts.net';
		})
		
		// Block the Devtools
		/*$Request('devtools', () => {
			alert("개발자 도구(F12)는 보안상의 이유로 사용하실 수 없습니다.");
			
			$("#Middle").html("<center><h1><br/><font color='black'>잘못된 접근입니다.</font></h1></center>");
			$("#Bottom").remove();
		})*/
	})
})();
$(document).ready(function() {
	$(document).on("contextmenu dragstart selectstart", function(e) {
		return false;
	});
});